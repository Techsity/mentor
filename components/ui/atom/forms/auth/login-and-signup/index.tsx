import React, { useEffect, useState } from "react";
import LoginForm from "./LoginForm";
import SignUpForm from "./signup";
import LoginAndSignupFormHeader from "../../../../organisms/auth/LoginAndSignupFormHeader";
import Link from "next/link";

const LoginAndSignupForm = ({ pageKey }: { pageKey: "login" | "signup" }) => {
	const [currentForm, setCurrentForm] = useState<"login" | "signup">(pageKey);

	useEffect(() => {
		setCurrentForm(pageKey);
		return () => setCurrentForm("signup");
	}, [pageKey]);

	return (
		<div className="w-full max-w-lg pt-3">
			<LoginAndSignupFormHeader
				currentForm={currentForm}
				setCurrentForm={setCurrentForm}
			/>
			<div className="mt-6 w-full">
				<div className={currentForm === "login" ? "" : "hidden"}>
					<LoginForm />
				</div>
				<div className={currentForm === "signup" ? "" : "hidden"}>
					<SignUpForm
						onSubmit={(state) => {
							console.log(state);
						}}
					/>
				</div>
				<div className="mt-6 items-center animate__animated animate__fadeInUp flex md:flex-row flex-col gap-5">
					<h1 className="">
						-or sign {currentForm === "signup" ? "up" : "in"} with-
					</h1>
					<Link
						href={
							currentForm === "login" ? "#google_auth_login" : "#google_auth_signup"
						}
					>
						<div className="cursor-pointer">
							<svg width="93" height="31" viewBox="0 0 93 31" fill="none">
								<g clipPath="url(#clip0_235_19194)">
									<path
										d="M90.1031 18.9454L92.6831 20.6927C91.8457 21.9456 89.843 24.0953 86.3804 24.0953C82.0806 24.0953 78.8784 20.7157 78.8784 16.4165C78.8784 11.8416 82.1145 8.73792 86.0183 8.73792C89.9447 8.73792 91.8683 11.9104 92.4907 13.6232L92.8302 14.4969L82.7143 18.75C83.4837 20.2904 84.6833 21.072 86.3804 21.072C88.0778 21.072 89.2545 20.2214 90.1031 18.9454ZM82.1712 16.1753L88.9264 13.3244C88.553 12.3705 87.4442 11.6923 86.1201 11.6923C84.4343 11.6923 82.092 13.2097 82.1712 16.1753Z"
										fill="#C0415A"
									/>
									<path
										d="M74.0015 0.909914H77.2601V23.3941H74.0015V0.909729V0.909914Z"
										fill="#6E9EEA"
									/>
									<path
										d="M68.8646 9.33561H72.0102V22.9917C72.0102 28.6586 68.7174 30.9921 64.8249 30.9921C61.1588 30.9921 58.9524 28.4862 58.1263 26.4517L61.0117 25.2331C61.5321 26.486 62.7881 27.969 64.8249 27.969C67.3255 27.969 68.8646 26.3941 68.8646 23.4515V22.348H68.7514C68.0045 23.2675 66.5788 24.0951 64.7684 24.0951C60.989 24.0951 57.5264 20.7501 57.5264 16.4396C57.5264 12.1059 60.989 8.7265 64.7684 8.7265C66.5675 8.7265 68.0045 9.54265 68.7514 10.4393H68.8646V9.3358V9.33561ZM69.0907 16.4396C69.0907 13.7267 67.3143 11.7496 65.0512 11.7496C62.7654 11.7496 60.8419 13.7267 60.8419 16.4396C60.8419 19.1178 62.7654 21.0604 65.0512 21.0604C67.3144 21.0721 69.0909 19.1178 69.0909 16.4396H69.0907Z"
										fill="#094B10"
									/>
									<path
										d="M39.6368 16.382C39.6368 20.8077 36.2423 24.0606 32.0781 24.0606C27.9142 24.0606 24.5195 20.7962 24.5195 16.382C24.5195 11.9335 27.9142 8.69202 32.0781 8.69202C36.2423 8.69202 39.6368 11.9335 39.6368 16.382ZM36.3327 16.382C36.3327 13.6234 34.3637 11.7265 32.0781 11.7265C29.7926 11.7265 27.8236 13.6234 27.8236 16.382C27.8236 19.1178 29.7926 21.0376 32.0781 21.0376C34.3639 21.0376 36.3327 19.1178 36.3327 16.382Z"
										fill="#C0415A"
									/>
									<path
										d="M56.146 16.4165C56.146 20.8421 52.7514 24.0951 48.5874 24.0951C44.4233 24.0951 41.0288 20.8419 41.0288 16.4165C41.0288 11.968 44.4233 8.73792 48.5874 8.73792C52.7514 8.73792 56.146 11.9566 56.146 16.4165ZM52.8305 16.4165C52.8305 13.6579 50.8617 11.761 48.576 11.761C46.2904 11.761 44.3214 13.6579 44.3214 16.4165C44.3214 19.1523 46.2904 21.072 48.576 21.072C50.873 21.072 52.8305 19.1408 52.8305 16.4165Z"
										fill="#FFB100"
									/>
									<path
										d="M12.0956 20.7272C7.35438 20.7272 3.6431 16.8419 3.6431 12.0254C3.6431 7.20916 7.35438 3.32383 12.0956 3.32383C14.6529 3.32383 16.5198 4.34683 17.9003 5.65732L20.1748 3.34689C18.2512 1.47324 15.6826 0.0476074 12.0956 0.0476074C5.60064 0.0477919 0.135254 5.42758 0.135254 12.0254C0.135254 18.6236 5.60064 24.0032 12.0956 24.0032C15.6034 24.0032 18.2512 22.8308 20.3219 20.6467C22.4491 18.4856 23.1053 15.4509 23.1053 12.991C23.1053 12.2208 23.0149 11.4277 22.913 10.8415H12.0956V14.0371H19.8013C19.575 16.0373 18.9527 17.4052 18.0361 18.3361C16.9272 19.4743 15.1735 20.7272 12.0956 20.7272Z"
										fill="#094B10"
									/>
								</g>
								<defs>
									<clipPath id="clip0_235_19194">
										<rect width="93" height="31" fill="white" />
									</clipPath>
								</defs>
							</svg>
						</div>
					</Link>
				</div>
			</div>
		</div>
	);
};

export default LoginAndSignupForm;
